{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MeasureUnit } from '../../../../enums/mesaure-unit.enum';\nimport { ProductCategory } from '../../../../enums/product-category.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../State/facades/product-facade\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/select\";\nfunction ProductComponent_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" El nombre es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" La descripci\\u00F3n es obligatoria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_error_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" El precio es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" El precio debe ser mayor o igual a 0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_option_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r1.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", option_r1.name, \" \");\n  }\n}\nfunction ProductComponent_mat_error_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" La categor\\u00EDa es obligatoria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_error_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" El stock es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_error_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" El stock debe ser mayor o igual a 0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_error_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" La disponibilidad debe ser mayor o igual a 0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_mat_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r2.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", option_r2.name, \" \");\n  }\n}\nfunction ProductComponent_mat_error_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" La unidad de medida es obligatoria \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ProductComponent = /*#__PURE__*/(() => {\n  class ProductComponent {\n    facade;\n    fb;\n    route;\n    productForm;\n    product;\n    ProductCategory = ProductCategory;\n    MeasureUnit = MeasureUnit;\n    measureUnitOptions = Object.keys(MeasureUnit).filter(key => isNaN(Number(key))).map(key => ({\n      name: key,\n      value: MeasureUnit[key]\n    }));\n    categoryOptions = Object.keys(ProductCategory).filter(key => isNaN(Number(key))).map(key => ({\n      name: key,\n      value: ProductCategory[key]\n    }));\n    constructor(facade, fb, route) {\n      this.facade = facade;\n      this.fb = fb;\n      this.route = route;\n    }\n    ngOnInit() {\n      this.productForm = this.fb.group({\n        name: ['', Validators.required],\n        description: ['', Validators.required],\n        price: [0, [Validators.required, Validators.min(0)]],\n        imageUrl: [''],\n        category: ['', Validators.required],\n        stock: [0, [Validators.required, Validators.min(0)]],\n        brand: [''],\n        availability: [0, [Validators.min(0)]],\n        unit: ['', Validators.required]\n      });\n      this.facade.getSelectedProduct().subscribe(product => {\n        if (product) {\n          this.product = product;\n          this.patchProduct(product);\n        }\n      });\n    }\n    onSubmit() {\n      if (this.productForm.valid) {\n        this.product = this.productForm.value;\n        console.log('Product added:', this.product);\n        if (this.product.id) {\n          // this.facade.updateProduct(this.product);\n        } else {\n          this.facade.addProduct(this.product);\n        }\n      }\n    }\n    patchProduct(product) {\n      this.productForm.patchValue({\n        ...product\n      });\n    }\n    parseProduct() {\n      this.product = {\n        id: this.product?.id,\n        ...this.productForm.value,\n        createdAt: new Date()\n      };\n    }\n    static ɵfac = function ProductComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProductComponent)(i0.ɵɵdirectiveInject(i1.ProductFacade), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductComponent,\n      selectors: [[\"app-product\"]],\n      decls: 67,\n      vars: 13,\n      consts: [[1, \"add-product-container\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"appearance\", \"fill\", 1, \"w-100\"], [\"matInput\", \"\", \"formControlName\", \"name\", \"placeholder\", \"Ingrese el nombre del producto\"], [4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"description\", \"placeholder\", \"Ingrese una descripci\\u00F3n\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"price\", \"placeholder\", \"Ingrese el precio\"], [\"matInput\", \"\", \"formControlName\", \"imageUrl\", \"placeholder\", \"Ingrese la URL de la imagen\"], [\"formControlName\", \"category\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"stock\", \"placeholder\", \"Ingrese el stock disponible\"], [\"matInput\", \"\", \"formControlName\", \"brand\", \"placeholder\", \"Ingrese la marca del producto\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"availability\", \"placeholder\", \"Ingrese la disponibilidad\"], [\"formControlName\", \"unit\"], [1, \"col-12\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [3, \"value\"]],\n      template: function ProductComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function ProductComponent_Template_form_ngSubmit_1_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"mat-form-field\", 4)(5, \"mat-label\");\n          i0.ɵɵtext(6, \"Nombre del producto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 5);\n          i0.ɵɵtemplate(8, ProductComponent_mat_error_8_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 3)(10, \"mat-form-field\", 4)(11, \"mat-label\");\n          i0.ɵɵtext(12, \"Descripci\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"textarea\", 7);\n          i0.ɵɵtemplate(14, ProductComponent_mat_error_14_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"div\", 2)(16, \"div\", 3)(17, \"mat-form-field\", 4)(18, \"mat-label\");\n          i0.ɵɵtext(19, \"Precio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"input\", 8);\n          i0.ɵɵtemplate(21, ProductComponent_mat_error_21_Template, 2, 0, \"mat-error\", 6)(22, ProductComponent_mat_error_22_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"div\", 3)(24, \"mat-form-field\", 4)(25, \"mat-label\");\n          i0.ɵɵtext(26, \"URL de la imagen\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(27, \"input\", 9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(28, \"div\", 2)(29, \"div\", 3)(30, \"mat-form-field\", 4)(31, \"mat-label\");\n          i0.ɵɵtext(32, \"Categor\\u00EDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"mat-select\", 10);\n          i0.ɵɵtemplate(34, ProductComponent_mat_option_34_Template, 2, 2, \"mat-option\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(35, ProductComponent_mat_error_35_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(36, \"div\", 3)(37, \"mat-form-field\", 4)(38, \"mat-label\");\n          i0.ɵɵtext(39, \"Stock\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(40, \"input\", 12);\n          i0.ɵɵtemplate(41, ProductComponent_mat_error_41_Template, 2, 0, \"mat-error\", 6)(42, ProductComponent_mat_error_42_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(43, \"div\", 2)(44, \"div\", 3)(45, \"mat-form-field\", 4)(46, \"mat-label\");\n          i0.ɵɵtext(47, \"Marca\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(48, \"input\", 13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(49, \"div\", 3)(50, \"mat-form-field\", 4)(51, \"mat-label\");\n          i0.ɵɵtext(52, \"Disponibilidad\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(53, \"input\", 14);\n          i0.ɵɵtemplate(54, ProductComponent_mat_error_54_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(55, \"div\", 2)(56, \"div\", 3)(57, \"mat-form-field\", 4)(58, \"mat-label\");\n          i0.ɵɵtext(59, \"Unidad de medida\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"mat-select\", 15);\n          i0.ɵɵtemplate(61, ProductComponent_mat_option_61_Template, 2, 2, \"mat-option\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(62, ProductComponent_mat_error_62_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(63, \"div\", 2)(64, \"div\", 16)(65, \"button\", 17);\n          i0.ɵɵtext(66, \" Agregar Producto \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          let tmp_3_0;\n          let tmp_4_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_8_0;\n          let tmp_9_0;\n          let tmp_11_0;\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.productForm.get(\"name\")) == null ? null : tmp_1_0.hasError(\"required\"));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.productForm.get(\"description\")) == null ? null : tmp_2_0.hasError(\"required\"));\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx.productForm.get(\"price\")) == null ? null : tmp_3_0.hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.productForm.get(\"price\")) == null ? null : tmp_4_0.hasError(\"min\"));\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categoryOptions);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.productForm.get(\"category\")) == null ? null : tmp_6_0.hasError(\"required\"));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx.productForm.get(\"stock\")) == null ? null : tmp_7_0.hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx.productForm.get(\"stock\")) == null ? null : tmp_8_0.hasError(\"min\"));\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", (tmp_9_0 = ctx.productForm.get(\"availability\")) == null ? null : tmp_9_0.hasError(\"min\"));\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.measureUnitOptions);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (tmp_11_0 = ctx.productForm.get(\"unit\")) == null ? null : tmp_11_0.hasError(\"required\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", ctx.productForm.invalid);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, MatFormFieldModule, i5.MatFormField, i5.MatLabel, i5.MatError, MatInputModule, i6.MatInput, MatButtonModule, i7.MatButton, MatSelectModule, i8.MatSelect, i8.MatOption, ReactiveFormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      styles: [\".add-product-container[_ngcontent-%COMP%]{padding:16px}\"]\n    });\n  }\n  return ProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}